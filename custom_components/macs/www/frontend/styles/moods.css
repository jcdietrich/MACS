/* Hide all mouths by default; moods selectively enable */
#mouth-idle, #mouth-bored, #mouth-sad, #mouth-listening, #mouth-thinking, #mouth-surprised, #mouth-confused, #mouth-sleeping, #mouth-happy{ display:none; }


/* Base animations */
@keyframes idleFloat{
	0%,100%{ transform: translate(0,0); }
	50%{ transform: translate(0, var(--idle-float-amp, 1.2vmin)); }
}

.blink{
	transform-origin:center;
	animation: blink 6.2s infinite;
}
@keyframes blink{
	0%,92%,100%{ transform: scaleY(1); }
	94%{ transform: scaleY(0.08); }
	96%{ transform: scaleY(1); }
}




/* CONFUSED */
.mood-confused .browL{ transform: translate(10px, -40px) rotate(-10deg); }
.mood-confused .browR{ transform: translate(-5px,40px) rotate(5deg); }
.mood-confused #mouth-confused{ display:block; fill:none; }
.mood-confused #face{ transform: rotate(10deg); }
.mood-confused .blink{ animation: confused-blink 2s infinite; }
@keyframes confused-blink{
	6%, 18%{ transform: scaleY(0.08); }
	0%, 12%, 24%{ transform: scaleY(1); }
}



/* BORED */
.mood-bored #eyeBezelL{ transform: translate(200px, 260px) rotate(-5deg) translate(-200px, -260px); }
.mood-bored #eyeBezelR{ transform: translate(400px, 260px) rotate(5deg) translate(-400px, -260px); }
.mood-bored #brows{ display: block; }
.mood-bored .browL{ transform: translateX(25px) rotate(-5deg); }
.mood-bored .browR{ transform: translateX(-30px) rotate(3deg); }
.mood-bored #mouth-bored{ display:block; fill:none; }
.mood-bored .iris{ transform: translate(-15px, -15px); }

/* CHARGING */
.charging{
	--sclera-inner-glow: var(--sclera-charging-glow);
}
.charge-mask{
	transform-box: fill-box;
	transform-origin: center bottom;
}
.charging .charge-mask{
	animation: chargeFill 2.4s ease-in-out infinite;
}
@keyframes chargeFill{
	0%{ transform: scaleY(0); }
	70%{ transform: scaleY(1); }
	100%{ transform: scaleY(1); }
}

/* HAPPY */
.mood-happy #mouth-happy{ display:block; stroke:none; }

/* IDLE */
.mood-idle #mouth-idle{ display:block; fill:none; }
.mood-idle .iris{ animation: iris-idle 10s ease-in-out infinite; }
@keyframes iris-idle{
	0%, 100%{ transform: translate(20px,0px); }
	50%{ transform: translate(-20px,0px); }
}
.animations-paused .char,
.animations-paused .blink,
.animations-paused .iris,
.animations-paused .brow,
.animations-paused .charge-mask {
	animation-play-state: paused !important;
}

.charging #leftEye .sclera circle:nth-child(3) {
	mask: url(#chargeMaskLeft);
}
.charging #rightEye .sclera circle:nth-child(3) {
	mask: url(#chargeMaskRight);
}
.mood-idle.cursor-look .iris{
	animation: none;
	transform: translate(var(--eye-look-x, 0px), var(--eye-look-y, 0px));
	transition: transform 0.15s ease-out;
}

/* LISTENING */
.mood-listening .brow{ animation: brow-listening 1.2s ease-in-out infinite; }
.mood-listening #mouth-listening{ display:block; fill:none; }
.mood-listening #face{ transform: rotate(10deg); }
.mood-listening .iris{ animation: iris-listening 1.4s ease-in-out infinite; }
@keyframes brow-listening{
	0%,100%{ transform: translateY(0); }
	50%{ transform: translateY(-6px); }
}
@keyframes iris-listening{
	0%,100%{ transform: translate(-10px,-10px); }
	50%{ transform: translate(10px,10px); }
}

/* SAD */
.mood-sad #eyeBezelL{ transform: translate(200px, 260px) rotate(-30deg) translate(-200px, -260px); }
.mood-sad #eyeBezelR{ transform: translate(400px, 260px) rotate(30deg) translate(-400px, -260px); }
.mood-sad #brows{ display: block; }
.mood-sad .browL{ transform: translateX(50px) translateY(-70px) rotate(-40deg); }
.mood-sad .browR{ transform: translateX(-50px) translateY(-70px) rotate(40deg); }
.mood-sad #mouth-sad{ display:block; fill:none; }
.mood-sad .iris{ transform: translate(5px, 30px); }

/* SLEEPING */
.mood-sleeping .blink{ animation: none; }
.mood-sleeping .iris, .mood-sleeping .pupil, .mood-sleeping .brow{ opacity:0.0; }
.mood-sleeping .eyeball{ opacity: 0.3; }
.mood-sleeping #leftEye .eyeball{ transform: translateX(-20px) translateY(-0px) rotate(-3deg) scaleX(0.8) scaleY(0.01); }
.mood-sleeping #rightEye .eyeball{ transform: translateX(20px) translateY(-0px) rotate(3deg) scaleX(0.8) scaleY(0.01); }
.mood-sleeping #mouth-sleeping{ opacity:0.2; display:block; }

/* SURPRISED */
.mood-surprised .brow{ animation: brow-surprised 1.8s ease-in-out infinite; }
.mood-surprised #mouth-surprised{ display:block; }
.mood-surprised .iris{ transform-origin:center; }
.mood-surprised #leftEye .iris{ transform: translate(30px, 10px) scale(1.3); }
.mood-surprised #rightEye .iris{ transform: translate(-30px, 10px) scale(1.3); }
@keyframes brow-surprised{
	0%,100%{ transform: translateY(-2px); }
	10%{ transform: translateY(-10px); }
	25%{ transform: translateY(-6px); }
}

/* THINKING */
.mood-thinking .browL{ transform: translateY(40px); }
.mood-thinking .browR{ transform: translateY(30px); }
.mood-thinking #face{ transform: rotate(5deg); }
.mood-thinking #mouth-thinking{ display:block; fill:none; }
.mood-thinking .iris{ animation: iris-thinking 2.6s linear infinite; }
@keyframes iris-thinking{
	0%, 100%{ transform: translate(-10px,15px); }
	50%{ transform: translate(10px,15px); }
}
